package com.exploitable.javahashcodecracker;

import lombok.extern.slf4j.Slf4j;
import org.springframework.boot.CommandLineRunner;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
@Slf4j
public class JavaHashcodeCrackerApplication implements CommandLineRunner {

    private final HashCrackService crackService;
    public static final String ANSI_RED = "\u001B[31m";
    public static final String ANSI_RESET = "\u001B[0m";
    public static final String ANSI_YELLOW = "\u001B[33m";
    public static final String ANSI_BLACK_BACKGROUND = "\u001B[40m";

    public JavaHashcodeCrackerApplication(HashCrackService crackService) {
        this.crackService = crackService;
    }

    public static void main(String[] args) {
        SpringApplication.run(JavaHashcodeCrackerApplication.class, args);
    }

    @Override
    public void run(String... args) throws Exception {
        System.out.println(ANSI_BLACK_BACKGROUND + ANSI_YELLOW);
        System.out.println("	  	 === 	   ==	    ===			    ===      ==	    ");
        System.out.println("  	     ===    ===  ===	 === 		   ===	  ===  ===  ");
        System.out.println("  	    ===		=========	    ===	    ===		 ==========	");
        System.out.println("        ===		===	  ===		  ===  ===		 ===    === ");
        System.out.println("    ====		===   === 			===			 ===    ===	");
        System.out.println(" ");
        System.out.println("	===   ===       ==             ======       ===   ===         =====        ===       =======       =========      ");
        System.out.println("	===   ===    ===  ===        =====          ===   ===      ===         ===    ===    ===    ===    ===            ");
        System.out.println("	=========    ========         =====         =========      ===         ===    ===    ===    ===    =========      ");
        System.out.println("	===   ===    ===  ===           =====       ===   ===      ===         ===    ===    ===    ===    ===            ");
        System.out.println("	===   ===    ===  ===        ======         ===   ===         =====        ===       =======       =========      ");
        System.out.println("  " + ANSI_RED);
        System.out.println("    ====         ========     =========       ==       ==    ==   =========   ========   ");
        System.out.println("    ==  ===      ===   ==     ===          ===  ===    ==  ==     ===         ===   ==   ");
        System.out.println("    ========     ======       =========    ========    ====       =========   ======     ");
        System.out.println("    ==  ====     ===   ==     ===          ===  ===    ==  ==     ===         ===   ==   ");
        System.out.println("    ======       ===     ==   =========    ===  ===    ==    ==   =========   ===     == ");
        System.out.println(ANSI_RESET);
        crackService.crackTheHash(args);
    }
}
